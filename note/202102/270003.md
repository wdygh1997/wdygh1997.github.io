---
title: 单调栈
---

# 单调栈

<script type="text/javascript" src="/include/head.js"></script>

单调栈即元素从栈底到栈顶单调有序的栈，例如：单调递增栈（元素从栈底到栈顶单调递增），单调递减栈（元素从栈底到栈顶单调递减）。

单调栈可以完成两个任务：

1、寻找左侧和右侧第一个大于（大于等于）/小于（小于等于）当前元素的元素；

2、确定使当前元素是最小/最大元素的最长区间。

## 单调递增栈

可以完成两个任务：

1、寻找左侧和右侧第一个大于（大于等于）/小于（小于等于）当前元素的元素；

2、确定使当前元素是最小/最大元素的最长区间。

找出每个数左边离它最近的比它小的数，此时需要维护一个单调递增的栈：

```
for (int i = 0; i < n; i++) {
    // 遍历到i号位的数x
    while (top >= 0 && stack[top] >= x) top--;
    // 此处获得x左边离它最近的比它小的数stack[top]
    stack[++top] = x;
}
```

## 单调递减栈

可以完成两个任务：

1、寻找左侧和右侧第一个大于（大于等于）/小于（小于等于）当前元素的元素；

2、确定使当前元素是最小/最大元素的最长区间。

找出每个数左边离它最近的比它大的数，此时需要维护一个单调递减的栈：

```
for (int i = 0; i < n; i++) {
    // 遍历到i号位的数x
    while (top >= 0 && stack[top] <= x) top--;
    // 此处获得x左边离它最近的比它大的数stack[top]
    stack[++top] = x;
}
```

---

<script type="text/javascript" src="/include/tail.js"></script>
