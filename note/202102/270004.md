---
title: 单调队列
---

# 单调队列

<script type="text/javascript" src="/include/head.js"></script>

单调队列适用于特殊题型。

下面的题型中，单调队列中存储的是下标i而不是数；

找出数组`a[n]`中长为k滑动窗口中最小值，此时需要维护一个单调递增的队列：

```
int a[n];

for (int i = 0; i < n; i++) {
    if (front != rear && i-queue[front]+1 > k)
        front = (front+1) % n;
    while (front != rear && a[queue[(rear-1 + n) % n]] >= a[i])
        rear = (rear-1 + n) % n;
    queue[rear] = i;
    rear = (rear+1) % n;
    // 在此处获得最小值a[queue[front]]
}
```

找出数组`a[n]`中长为k滑动窗口中最大值，此时需要维护一个单调递减的队列：

```
int a[n];

for (int i = 0; i < n; i++) {
    if (front != rear && i-queue[front]+1 > k)
        front = (front+1) % n;
    while (front != rear && a[queue[(rear-1 + n) % n]] <= a[i])
        rear = (rear-1 + n) % n;
    queue[rear] = i;
    rear = (rear+1) % n;
    // 在此处获得最大值a[queue[front]]
}
```

注解：

(1)单调队列严格讲是一边入队，两边出队的双端队列。

---

<script type="text/javascript" src="/include/tail.js"></script>
